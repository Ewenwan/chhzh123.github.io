---
layout: summary
title: 分布式系统
date: 2019-08-29
---

本文为分布式系统的课程笔记。

<!--more-->

## 分布式系统简介
### 定义与特性
> 分布式系统是若干独立自主计算机的集合，这些计算机对于用户来说像单个耦合系统。

**物理分布，逻辑集中；个体独立，整体统一**

特性：
* 自主性：计算节点硬件或软件进程是独立的
* 耦合性：用户或者应用程序感觉系统是一个系统——节点之间需要相互协作
* 构成组件并被所有用户共享
* 系统资源可能不允许访问
* 软件运行在不同处理器上的多个并发进程上
* 允许多点控制
* 允许多点失效

自主节点集合
* 节点独立行为
	- 每个节点都是独立的，有自己的本地时间
	- 没有全局锁
	- 存在基本的同步和协同的问题
* 节点集合行为
	- 如何管理集合中的节点之间的关系？开放集合、封闭集合
	- 如何知道确实是在跟一个授权（非授权的）成员通信？信任、安全机制

一致(coherent)系统
* 本质：节点无论在什么地方，用户无论何时访问，节点集合对于用户来讲都是一个整体
* 例子
	- 终端用户不知道计算发生在什么地方
	- 用户也不知道与应用相关的数据存储在什么地方
	- 数据拷贝完全是隐藏的（核心是分布式透明性）
* 挑战
	- 部分失效：不可避免地，分布式系统的某一部分会失效，部分失效以及恢复很难做到对用户的透明性

### 分布式系统中的8个谬误
1. 网络是可靠的
2. 延迟为0
3. 带宽无限
4. 网络安全
5. 网络拓扑结构不会变
6. 唯一管理员
7. 传输代价为0
8. 网络是同构的（对等实体？）

### 分布式系统、并行系统、集中系统
* 分布式系统与并行系统交叉：MPI/MapReduce
* 并行系统与集中系统交叉：OpenMP/TBB

相对于分布式系统，集中式系统的特性如下：
* 仅由单一组件构成
* 单个组件被用户一直占用
* 所有资源都是可访问的
* 软件运行在单个进程中
* 单点控制
* 单点失效

分布式系统与并行系统的区别：主要在于软件
* 并行系统各结点工作都是一样的（平行结构），软件也相同
* 但分布式系统是一个复杂的拓扑结构（树型结构），每个节点软件不必相同，可以异构

### 分布式系统的目标
* 使资源可访问：让用户方便访问资源
* 透明性：隐藏资源在网络上的分布
	- 访问、位置、迁移、重定位、复制、并发、故障、持久化
* 开放性：访问接口的标准化，封闭无法跨越不同组织
	- 良好定义的接口、互操作性、可移植性、易实现可扩展性
* 可扩展性：系统在规模、地域、管理上的可扩展性

#### 透明性
完全透明性是不可取的也是难以实现的，主要因为
* 可能隐含通信的性能问题
* 完全隐藏网络和节点的失效是不可能的
	- 不能区分失效和性能变慢的节点
	- 不能确定系统失效之前的操作是什么
* 完全的透明性可能牺牲性能，暴露系统分布特征
* 保证复制节点与主节点的一致性需要时间（一致性问题）
* 为了容错需要立即将内存修改的内容同步到磁盘上

暴露系统的分布特征有一定使用场景
* 利用基于位置的服务（如：找到附近的朋友）
* 当与不同时区的用户交互时
* 当让用户理解系统发生了什么时，如当一台服务器不响应时，报告失效

结论是分布式透明性是一个较好的属性，但是需要区别对待。

------------------